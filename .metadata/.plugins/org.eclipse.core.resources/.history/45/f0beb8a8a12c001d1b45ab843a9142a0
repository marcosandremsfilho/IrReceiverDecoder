#include "main.h"
#include "sensorIrClass.h"

extern uint16_t microsecondsTime;

SensorIR :: SensorIR(GPIO_TypeDef* Port, uint16_t Pin) {
	_Port = Port;
	_Pin = Pin;
}

void SensorIR::getTime(uint16_t microTime) {
	decision();

	if(lockInicial == 0) {
		timeON = HAL_GetTick();
		lockInicial = 1;
	} else if(lockFinal == 0 && lockInicial == 1) {
		lockFinal =1;
		time = HAL_GetTick() - timeON;
	}
}

void SensorIR::decision() {
	if(time > 12 && time < 15) {
		decodeNECSignalFunction();
	} else if (time >2 && time < 4){
		decodeSIRCSignalFunction();
	} else {
		lockInicial = 0;
		lockFinal =0;
	}
}

void SensorIR::decodeSIRCSignalFunction() {

}
void SensorIR::decodeNECSignalFunction() {
	if(flag == 0) {
		time2 = HAL_GetTick();
	} else if (flag == 1){
		time2
	}
}
